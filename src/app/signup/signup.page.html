<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Sign Up</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <form [formGroup]="SignupForm">

      <ion-row>
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
            <ion-label class="google-label" position="floating">
              Name
            </ion-label>
            <ion-input formControlName="name" class="google-input" type="text">
            </ion-input>
            
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.name">
                <div class="error-message" *ngIf="SignupForm.get('name').hasError(validation.type) && (SignupForm.get('name').dirty || SignupForm.get('name').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                </div>
              </ng-container>
            </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Gender
              </ion-label>
              <ion-input class="google-input" type="text">
                <ion-select mode="md" formControlName="gender" style="border: 0in;" class="google-select">
                  <ion-select-option *ngFor="let option of gender"
                  [value]="option">{{option}}</ion-select-option>
                </ion-select>
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.gender">
                  <div class="error-message" *ngIf="SignupForm.get('gender').hasError(validation.type) && (SignupForm.get('gender').dirty || SignupForm.get('gender').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Birthday
              </ion-label>
              <ion-input class="google-input" type="text">
                <ion-datetime mode="md" displayFormat="DD MMM YYYY" formControlName="birthday"></ion-datetime>
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.birthday">
                  <div class="error-message" *ngIf="SignupForm.get('birthday').hasError(validation.type) && (SignupForm.get('birthday').dirty || SignupForm.get('birthday').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Address
              </ion-label>
              <ion-input formControlName="address" class="google-input" type="text">
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.address">
                  <div class="error-message" *ngIf="SignupForm.get('address').hasError(validation.type) && (SignupForm.get('address').dirty || SignupForm.get('address').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row formGroupName="country_phone">
        <ion-col size="3">
        <ion-item style="overflow: visible;">
          <ion-label class="google-label" position="floating">Country</ion-label>
          <ion-input class="google-input" type="text">
          <ion-select formControlName="country" class="google-select" cancelText="Cancel" okText="OK" disabled="true">
            <ion-select-option>Singapore</ion-select-option>
          </ion-select>
        </ion-input>
        </ion-item>
      </ion-col>

        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Phone Number
              </ion-label>
              <ion-input formControlName="phone" placeholder="+65 98473845" class="google-input" type="tel">
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.phone">
                  <div class="error-message" *ngIf="SignupForm.get('country_phone').get('phone').hasError(validation.type) && (SignupForm.get('country_phone').get('phone').dirty || SignupForm.get('country_phone').get('phone').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>
      
      <ion-row>
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                E-Mail
              </ion-label>
              <ion-input formControlName="email" class="google-input" type="email">
              </ion-input>
              
              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.email">
                  <div class="error-message" *ngIf="SignupForm.get('email').hasError(validation.type) && (SignupForm.get('email').dirty || SignupForm.get('email').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <div class="validation-errors">
                <ng-container>
                  <div class="error-message" *ngIf="!signuperror == ''">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ signuperror }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row formGroupName="matching_passwords">
        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Password
              </ion-label>
              <ion-input formControlName="password" class="google-input" type="password">
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.password">
                  <div class="error-message" *ngIf="SignupForm.get('matching_passwords').get('password').hasError(validation.type) && (SignupForm.get('matching_passwords').get('password').dirty || SignupForm.get('matching_passwords').get('password').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item lines="none"  style="overflow: visible;">
              <ion-label class="google-label" position="floating">
                Confirm Password
              </ion-label>
              <ion-input formControlName="confirm_password" class="google-input" type="password">
              </ion-input>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.confirm_password">
                  <div class="error-message" *ngIf="SignupForm.get('matching_passwords').get('confirm_password').hasError(validation.type) && (SignupForm.get('matching_passwords').get('confirm_password').dirty || SignupForm.get('matching_passwords').get('confirm_password').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <!-- These validations are for the form group -->
              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.matching_passwords">
                  <div class="error-message" *ngIf="SignupForm.get('matching_passwords').hasError(validation.type) && (SignupForm.get('matching_passwords').get('confirm_password').dirty || SignupForm.get('matching_passwords').get('confirm_password').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
                  </div>
                </ng-container>
              </div>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-checkbox color="primary" formControlName="terms"></ion-checkbox>&nbsp;&nbsp;
            <ion-label style="font-size: 0.8pc;" color="primary">I accept terms and conditions</ion-label>
          </ion-item>
          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.terms">
              <div class="error-message" *ngIf="SignupForm.get('terms').hasError(validation.type) && (SignupForm.get('terms').dirty || SignupForm.get('terms').touched)">
                <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
      </ion-row>
      
      <ion-row>
        <ion-col>
          <ion-button fill="clear" (click)="cancel()">Cancel</ion-button>
          &nbsp;&nbsp;
          <ion-button type="submit" (click)="register()">Submit</ion-button>
        </ion-col>
      </ion-row>
    </form>
  </ion-grid>
</ion-content>
